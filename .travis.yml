language: node_js
node_js:
- '5'
branches:
  except:
  - releases
deploy:
  - provider: script
    skip_cleanup: true
    script: npm run release-to-branch
    on:
      branch: master
  - provider: npm
    skip_cleanup: true
    email: npm@slicemenice.de
    api_key:
      secure: NT8yxbgTsXlhfEDjCATrfVsXabY+oBTPnN+WR5YbLncHh58NK+/I2+JWg4mf7zSZdo0LRikCmOhMukRgcJ38aEq6BtPsoDsAhHVpMI1IrgtzODX4K3InHlID2+PeDh3jW73nhURoesXtZfQPkKdWLf6WB5B8Zht1EtlEf3cER7f7KY4mD2vmq0otQLdAD5Zm6UIfmleOrHs0RWmHwelp1nzr4MIjqd4aflzCJYZ6hu3QDqEA2+9T/ZCfwHf4DG/9ydcZHCzvV/9+3RC8e7V3zrCIFlixzgvpRJSYWr0c19k9L94cBpyzjkOh7aF8e1SDSQKdEfKEg74z9IHE6fi+0kxbKrIcE+96LBNXlyjgDjHA51eQkfLsrH03c8KCZ/K84CiUs+wt5UIHjFU0y5znP9xOQfz1g5rCGvBfsRvliSxMgdcXtMkVMRgeVHZ0hom1Kxk5gZ40SYPqHPtrmERMeXQHZciVaH+p0UYoczJ85PwXzfL0BfglGehW35jH4qgqitJGGiEfbW8sl3kTO5gQbsRL2jknWwJG0Gu1KzbV6/1WbQarVx20Rx6MDCbL2OBxTCefVedRRYY1eUqy3Iy/pnVkXUrElo2ME56qBCUXoBRSD2hvn0drs9Wxni4yCZk+ipwclC3jfSgSHEfxMQ91bKcQhQhNBdbYu2ortTMq6aA=
    on:
      branch: releases
      tags: true

env:
  global:
  - secure: iRzmaRoRNJ7dEq6bmdzHOpbiELm/Xu1lBHdW4Phb6EnUzurRsZW/Msi9Q06RLXzFJTpXlSzmV+rDbvOhEA5xA1LwWsd66PQHic3D+PzY08KgRBv/12p4XGbjoYsLnnCNiMvhEOFe7z8g+imtihozp4NkPZBakd9u3r7KWVdgwtyjuazYNUg4EgOwhCVtelwdWLA8kNbD76WcUVB/UrsBpwWSshxES+T9Hl2J2+Qa9hXBf3ijBKAb5OsMzGQK+EVzGvJHjn0R0d21dnvDgD85To7pFTZtB4rvhotRg6kMInW5tYooUXN4Qgu8r2mQCcv/PpFf6aQTeKlqfoSwWyuPqN74yAgYMp5PA4V+AUdwSUqneDYKbvbv0DEZHvH4hI1V3ANR1TFverDDygG3LI+nhYU0EhUwOBwfKJhwv+O5mWDx2wkZffRwj7+/hzwJQ41sGpdC17UlaP+oGIzQE2AIp9F0xwdbYGav67MIfonzJXbUJ7MZ5fhgfyuvBJd/vpk9PtOOBe34F42TJMZDDvLdmkYQO9aow204LHZHsOwtJgrKgH+ez8JfMc0QgM6yonUlv1QDh8Qz/9jF8QcpRjhzcXzaWjZsSIEgHBuNTDqiiNqK1N9WAa3LtNXA39ZFf1z68ahYMmoxbDstN/52LgSZ5GQEk1VY9nmqmsZPDTTf6yA=
