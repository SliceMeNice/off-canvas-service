!function(t){"use strict";function i(t,i){function e(){this.constructor=t}for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n]);t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var e=function(){function t(){this.registeredViews=new Map,this.transitionCallbacks=new Map,this.viewStack=new Array}return t.prototype.addTransitionCallback=function(t,i,e){var n=t+"-"+i;this.transitionCallbacks.has(n)||this.transitionCallbacks.set(n,[]),this.transitionCallbacks.get(n).push(e)},t.prototype.dismissCurrentView=function(){if(this.viewStack.length){var t=this.viewStack.pop(),i=this.viewStack[this.viewStack.length-1];return this.changeView(t,i,!1)}},t.prototype.getRegisteredViews=function(){return Array.from(this.registeredViews.values())},t.prototype.isShowingView=function(t){return this.viewStack.length?t?this.viewStack.some(function(i){return i.id===t}):this.viewStack.length>1:!1},t.prototype.isTopmostView=function(t){return this.viewStack.length?this.viewStack[this.viewStack.length-1].id===t:!1},t.prototype.registerView=function(t,i){var e={id:t,element:i};return this.registeredViews.set(t,e),this.fixateView(e),e},t.prototype.replaceCurrentViewWith=function(t){var i=this.registeredViews.get(t);if(i&&-1===this.viewStack.indexOf(i)){var e=this.viewStack.pop();this.viewStack.push(i),this.changeView(e,i,!0)}},t.prototype.setBaseView=function(t){this.baseView=t,this.viewStack=[this.baseView],this.activateView(this.baseView)},t.prototype.showView=function(t){if(t!==this.baseView.id){var i=this.registeredViews.get(t);if(i&&-1===this.viewStack.indexOf(i)){this.viewStack.push(i);var e=this.viewStack[this.viewStack.length-2],n=this.viewStack[this.viewStack.length-1];this.changeView(e,n,!1)}}},t}(),n=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.activateView=function(t){var i=t.element.style;i.display="block",i.height="",i.left="",i.minHeight=window.innerHeight+"px",i.minWidth=Math.min(window.innerWidth,document.body.offsetWidth)+"px",i.overflow="",i.position="",i.top="",i.width=""},e.prototype.changeView=function(t,i,e){function n(t){s.transitionCallbacks.has(t)&&(w=w.concat(s.transitionCallbacks.get(t)))}function o(){i.element.scrollLeft=0,i.element.scrollTop=0,s.activateView(i),window.scrollTo(r,a)}var s=this,r=i.element.scrollLeft,a=i.element.scrollTop,h=document.body.scrollLeft||document.documentElement.scrollLeft,c=document.body.scrollTop||document.documentElement.scrollTop;this.fixateView(t),t.element.scrollLeft=h,t.element.scrollTop=c;var w=new Array;if(e===!1)n(t.id+"-"+i.id),n("*-"+i.id),n(t.id+"-*");else{var l=this.viewStack[this.viewStack.length-2];n(t.id+"-"+i.id),w.length||(n(t.id+"-"+l.id),n(t.id+"-*"),n(l.id+"-"+i.id),n("*-"+i.id))}var p=[t,i],d=new Array;w.forEach(function(t){d.push(t.apply(s,p))});var f=new Promise(function(t,i){d.length?Promise.all(d).then(function(){o(),t()}):(o(),t())});return f},e.prototype.fixateView=function(t){var i=t.element.style;i.height=window.innerHeight+"px",i.left="0",i.minHeight=window.innerHeight+"px",i.minWidth=Math.min(window.innerWidth,document.body.offsetWidth)+"px",i.overflow="hidden",i.position="fixed",i.top="0",i.width=Math.min(window.innerWidth,document.body.offsetWidth)+"px"},e}(e);t.OffCanvasService=n}(this.OffCanvas=this.OffCanvas||{});