!function(t){"use strict";function e(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var i=function(){function t(){this.registeredViews=new Map,this.transitionCallbacks=new Map,this.viewStack=new Array}return t.prototype.addTransitionCallback=function(t,e,i){var n=t+"-"+e;this.transitionCallbacks.has(n)||this.transitionCallbacks.set(n,[]),this.transitionCallbacks.get(n).push(i)},t.prototype.dismissCurrentView=function(t){if(void 0===t&&(t=!1),this.viewStack.length){var e=this.viewStack.pop(),i=this.viewStack[this.viewStack.length-1];return this.changeView(e,i,!1,t)}},t.prototype.getNumberOfViewsOnViewstack=function(){return this.viewStack.length},t.prototype.getRegisteredViews=function(){return Array.from(this.registeredViews.values())},t.prototype.isShowingView=function(t){return this.viewStack.length?t?this.viewStack.some(function(e){return e.id===t}):this.viewStack.length>1:!1},t.prototype.isTopmostView=function(t){return this.viewStack.length?this.viewStack[this.viewStack.length-1].id===t:!1},t.prototype.registerView=function(t,e){var i={id:t,element:e};return this.registeredViews.set(t,i),this.fixateView(i),i},t.prototype.replaceCurrentViewWith=function(t,e){void 0===e&&(e=!1);var i=this.registeredViews.get(t);if(i&&-1===this.viewStack.indexOf(i)){var n=this.viewStack.pop();this.viewStack.push(i),this.changeView(n,i,!0,e)}},t.prototype.setBaseView=function(t){this.baseView=t,this.viewStack=[this.baseView],this.activateView(this.baseView)},t.prototype.showView=function(t,e){if(void 0===e&&(e=!1),t!==this.baseView.id){var i=this.registeredViews.get(t);if(i&&-1===this.viewStack.indexOf(i)){this.viewStack.push(i);var n=this.viewStack[this.viewStack.length-2],o=this.viewStack[this.viewStack.length-1];this.changeView(n,o,!1,e)}}},t.prototype.unregisterView=function(t){this.registeredViews["delete"](t)},t}(),n=function(t){function i(){t.apply(this,arguments)}return e(i,t),i.prototype.activateView=function(t){var e=t.element.style;e.display="block",e.height="",e.left="",e.minHeight=window.innerHeight+"px",e.minWidth=Math.min(window.innerWidth,document.body.offsetWidth)+"px",e.overflow="",e.position="",e.top="",e.width=""},i.prototype.changeView=function(t,e,i,n){function o(t){r.transitionCallbacks.has(t)&&(l=l.concat(r.transitionCallbacks.get(t)))}function s(){e.element.scrollLeft=0,e.element.scrollTop=0,r.activateView(e),window.scrollTo(a,h)}var r=this,a=e.element.scrollLeft,h=e.element.scrollTop,c=document.body.scrollLeft||document.documentElement.scrollLeft,w=document.body.scrollTop||document.documentElement.scrollTop;this.fixateView(t),t.element.scrollLeft=c,t.element.scrollTop=w;var l=new Array;if(i===!1)o(t.id+"-"+e.id),o("*-"+e.id),o(t.id+"-*");else{var d=this.viewStack[this.viewStack.length-2];o(t.id+"-"+e.id),l.length||(o(t.id+"-"+d.id),o(t.id+"-*"),o(d.id+"-"+e.id),o("*-"+e.id))}var p=[t,e],f=new Array;n===!1&&l.forEach(function(t){f.push(t.apply(r,p))});var u=new Promise(function(t,e){f.length?Promise.all(f).then(function(){s(),t()}):(s(),t())});return u},i.prototype.fixateView=function(t){var e=t.element.style;e.height=window.innerHeight+"px",e.left="0",e.minHeight=window.innerHeight+"px",e.minWidth=Math.min(window.innerWidth,document.body.offsetWidth)+"px",e.overflow="hidden",e.position="fixed",e.top="0",e.width=Math.min(window.innerWidth,document.body.offsetWidth)+"px"},i}(i);t.OffCanvasService=n}(this.OffCanvas=this.OffCanvas||{});